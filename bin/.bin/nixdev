#!/usr/bin/env sh

l=$(cd ~/Repos/dwm && git rev-parse master)
cat /etc/nixos/configuration.nix | sed -E "s/\".+\"; #localdwm/ \"$l\"; #localdwm/" | sponge /etc/nixos/configuration.nix

l=$(cd ~/Repos/st && git rev-parse master)
cat /etc/nixos/configuration.nix | sed -E "s/\".+\"; #localst/ \"$l\"; #localst/" | sponge /etc/nixos/configuration.nix

l=$(cd ~/Repos/dmenu && git rev-parse master)
cat /etc/nixos/configuration.nix | sed -E "s/\".+\"; #localdmenu/ \"$l\"; #localdmenu/" | sponge /etc/nixos/configuration.nix

l=$(cd ~/Repos/surf && git rev-parse master)
cat /etc/nixos/configuration.nix | sed -E "s/\".+\"; #localsurf/ \"$l\"; #localsurf/" | sponge /etc/nixos/configuration.nix
