#!/usr/bin/env ruby

def getZoomLevel 
  %x[foo-zoom-level].chomp!.to_i
end

currentZoom = getZoomLevel

if (ARGV[0] == '+') then
  %x[echo #{currentZoom} > /tmp/old-zoom-level]
  %x[foo-wm-cx /tmp/foo-wm.socket 'zoom 1000']
else
  oldLevel = File.read('/tmp/old-zoom-level').chomp!.to_i
  while (oldLevel < currentZoom) do
    %x[foo-wm-cx '/tmp/foo-wm.socket' 'zoom -1']
    currentZoom = currentZoom - 1
  end
end
